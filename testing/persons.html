<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<title>Document</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
	<link rel="stylesheet" href="main.css">
</head>
<body>
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-8 block pt-5 mt-3 d-flex justify-content-center align-items-start ">
				<div class="d-flex justify-content-center flex-column w-80">
					<h2 class="text-center ">Отбор по значениям объектов Persons</h2>
					<h5>Имя</h5>
					<input type="text" name="first_name" id="first_name">
					<h5>Фамилия</h5>
					<input type="text" name="last_name" id="last_name">
					<h5>Возраст</h5>
					<input type="text" name="age" id="age">
					<h5>Работает?</h5>
					<input type="text" name="job" id="job">
					<h5>Количество денег</h5>
					<input type="text" name="money" id="money">
					<form method="post" class="mt-4 d-flex justify-content-center" action="http://localhost:8080/sql">
						<input type="text" hidden="" name="constraints" id="constraints">
						<input type="submit" onclick="updateConstraints()">
					</form>
				</div>
			</div>
		</div>
	</div>
	<script>
		let json = 0;

		function updateConstraints() {
			let first_name = document.getElementById("first_name").value;
			let last_name = document.getElementById("last_name").value;
			let age = document.getElementById("age").value;
			let job = document.getElementById("job").value;
			let money = document.getElementById("money").value;

			json = {
				"typeObject": "person",
				"first_name": first_name,
				"last_name": last_name,
				"age": age,
				"job": job,
				"money": money
			};
			document.getElementById("constraints").value = JSON.stringify(json);
		}
		setInterval(updateConstraints, 100);
	</script>
</body>
</html>